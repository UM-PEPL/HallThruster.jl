<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Anomalous transport models · HallThruster.jl</title><meta name="title" content="Anomalous transport models · HallThruster.jl"/><meta property="og:title" content="Anomalous transport models · HallThruster.jl"/><meta property="twitter:title" content="Anomalous transport models · HallThruster.jl"/><meta name="description" content="Documentation for HallThruster.jl."/><meta property="og:description" content="Documentation for HallThruster.jl."/><meta property="twitter:description" content="Documentation for HallThruster.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/citation.css" rel="stylesheet" type="text/css"/><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="HallThruster.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">HallThruster.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Overview</a></li><li><a class="tocitem" href="../../NEWS/">Release notes</a></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/simulation/">Run a simulation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">How-to guides</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../howto/json/">Use JSON input and output</a></li><li><a class="tocitem" href="../../howto/python/">Run a simulation from python</a></li><li><a class="tocitem" href="../../howto/new_propellant/">Add a new propellant</a></li><li><a class="tocitem" href="../../howto/new_anom_model/">Implement an anomalous transport model</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">Explanations</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../explanation/physics/">Physics model</a></li><li><a class="tocitem" href="../../explanation/numerics/">Numerics</a></li><li><a class="tocitem" href="../../explanation/grid_generation/">Grid generation</a></li><li><a class="tocitem" href="../../explanation/timestepping/">Timestepping</a></li><li><a class="tocitem" href="../../explanation/verification/">Validation and verification</a></li><li><a class="tocitem" href="../../explanation/initialization/">Initialization</a></li><li><a class="tocitem" href="../../explanation/plume/">Quasi-1D plume model</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox" checked/><label class="tocitem" for="menuitem-6"><span class="docs-label">Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../config/">Configuration</a></li><li><a class="tocitem" href="../simparams/">Simulation parameters</a></li><li><a class="tocitem" href="../solution/">Solution</a></li><li><a class="tocitem" href="../postprocessing/">Postprocessing</a></li><li><a class="tocitem" href="../thrusters/">Thrusters</a></li><li><a class="tocitem" href="../propellants/">Propellants</a></li><li class="is-active"><a class="tocitem" href>Anomalous transport models</a><ul class="internal"><li><a class="tocitem" href="#Built-in-Models"><span>Built-in Models</span></a></li><li><a class="tocitem" href="#The-AnomalousTransportModel-interface"><span>The <code>AnomalousTransportModel</code> interface</span></a></li></ul></li><li><a class="tocitem" href="../wall_loss_models/">Wall loss models</a></li><li><a class="tocitem" href="../electron_thermal_conductivity/">Thermal conductivity models</a></li><li><a class="tocitem" href="../collisions/">Collisions and reactions</a></li><li><a class="tocitem" href="../schemes/">Hyperbolic schemes</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Reference</a></li><li class="is-active"><a href>Anomalous transport models</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Anomalous transport models</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/UM-PEPL/HallThruster.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/UM-PEPL/HallThruster.jl/blob/main/docs/src/reference/anomalous_transport.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Anomalous-transport"><a class="docs-heading-anchor" href="#Anomalous-transport">Anomalous transport</a><a id="Anomalous-transport-1"></a><a class="docs-heading-anchor-permalink" href="#Anomalous-transport" title="Permalink"></a></h1><p>HallThruster has a few anomalous transport models built in and allows users to define their own. This page describes these models and the process by which algebraic and multi-equation transport models can be added by the user.</p><h2 id="Built-in-Models"><a class="docs-heading-anchor" href="#Built-in-Models">Built-in Models</a><a id="Built-in-Models-1"></a><a class="docs-heading-anchor-permalink" href="#Built-in-Models" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HallThruster.NoAnom" href="#HallThruster.NoAnom"><code>HallThruster.NoAnom</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">NoAnom &lt;: AnomalousTransportModel</code></pre><p>No anomalous collision frequency included in simulation</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UM-PEPL/HallThruster.jl/blob/52cbabb5bbc6b550c2c237cce0b56146756a7a8d/src/collisions/anomalous.jl#L30-L33">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HallThruster.Bohm" href="#HallThruster.Bohm"><code>HallThruster.Bohm</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Bohm(c) &lt;: AnomalousTransportModel</code></pre><p>Model where the anomalous collision frequency scales with the electron cyclotron frequency ωce times some scaling factor c</p><p><strong>Fields</strong></p><ul><li><code>c::Float64</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UM-PEPL/HallThruster.jl/blob/52cbabb5bbc6b550c2c237cce0b56146756a7a8d/src/collisions/anomalous.jl#L43-L49">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HallThruster.TwoZoneBohm" href="#HallThruster.TwoZoneBohm"><code>HallThruster.TwoZoneBohm</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">TwoZoneBohm(c1, c2) &lt;: AnomalousTransportModel</code></pre><p>Model where the anomalous collision frequency has two values: c1 * ωce inside the channel and c2 * ωce outside of the channel. Takes two arguments: c1 and c2. The transition between these values is smoothed over <code>config.transition_length</code>.</p><p><strong>Fields</strong></p><ul><li><p><code>c1::Float64</code></p></li><li><p><code>c2::Float64</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UM-PEPL/HallThruster.jl/blob/52cbabb5bbc6b550c2c237cce0b56146756a7a8d/src/collisions/anomalous.jl#L77-L84">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HallThruster.GaussianBohm" href="#HallThruster.GaussianBohm"><code>HallThruster.GaussianBohm</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">GaussianBohm(hall_min, hall_max, center, width) &lt;: AnomalousTransportModel</code></pre><p>Model in which the anomalous collision frequency is Bohm-like (<code>νan ~ ω_ce</code>),  except in a Gaussian-shaped region defined centered on z = <code>center</code>, where the collision frequency is lower.</p><p><strong>Fields</strong></p><ul><li><p><code>hall_min::Float64</code>: the minimum Hall parameter</p></li><li><p><code>hall_max::Float64</code>: the maximum Hall parameter</p></li><li><p><code>center::Float64</code>: the axial position (in meters) of the mean of the Gaussian trough</p></li><li><p><code>width::Float64</code>: the standard deviation (in meters) of the Gaussian trough</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UM-PEPL/HallThruster.jl/blob/52cbabb5bbc6b550c2c237cce0b56146756a7a8d/src/collisions/anomalous.jl#L168-L176">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HallThruster.MultiLogBohm" href="#HallThruster.MultiLogBohm"><code>HallThruster.MultiLogBohm</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MultiLogBohm(zs, cs) &lt;: AnomalousTransportModel</code></pre><p>Model similar to that employed in Hall2De, where the mobility is Bohm-like (i.e. <code>νan(z) = c(z) * ωce(z)</code>) and z is in meters.</p><p>The function <code>c(z)</code> is defined by a sequence of nodes <code>(z, c)</code> provided by the user. At <code>z = z[1]</code>, <code>c(z) = c[1]</code>, and so forth.</p><p>At <code>z[i] &lt; z &lt; z[i+1]</code>, <code>log(c)</code> is defined by linearly interpolating between <code>log(c[i])</code> and <code>log(c[i+1])</code>.</p><p>For <code>z &lt; z[1]</code>, <code>c = c[1]</code> and for <code>z &gt; z[end]</code>, <code>c(z) = c[end]</code>.</p><p>The user may also provide a single array of [z[1], z[2], ..., z[end], c[1], c[2], ..., c[end]]. The number of z values must be equal to the number of c values.</p><p><strong>Fields</strong></p><ul><li><p><code>zs::Vector{Float64}</code></p></li><li><p><code>cs::Vector{Float64}</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UM-PEPL/HallThruster.jl/blob/52cbabb5bbc6b550c2c237cce0b56146756a7a8d/src/collisions/anomalous.jl#L118-L132">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HallThruster.LogisticPressureShift" href="#HallThruster.LogisticPressureShift"><code>HallThruster.LogisticPressureShift</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LogisticPressureShift(model, z0, dz, pstar, alpha)</code></pre><p>A wrapper model that allows a transport profile to shift axially in response to changes in background pressure. The displacement/shift of the transport profile follows a logistic curve.</p><p><strong>Fields</strong></p><ul><li><code>model::HallThruster.AnomalousTransportModel</code>: An anomalous transport model</li></ul><ul><li><code>z0::Float64</code>: the center of the shift at 0 background pressure</li></ul><ul><li><code>dz::Float64</code>: the total pressure shift across (0, Inf) background pressure</li></ul><ul><li><code>pstar::Float64</code>: the &quot;turning point&quot; pressure</li></ul><ul><li><code>alpha::Float64</code>: the slope of the pressure-displacement response curve</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UM-PEPL/HallThruster.jl/blob/52cbabb5bbc6b550c2c237cce0b56146756a7a8d/src/collisions/anomalous.jl#L221-L228">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HallThruster.SimpleLogisticShift" href="#HallThruster.SimpleLogisticShift"><code>HallThruster.SimpleLogisticShift</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SimpleLogisticShift(model, z0, dz, pstar, alpha)</code></pre><p>A wrapper model that allows a transport profile to shift axially in response to changes in background pressure.  As with LogisticPressureShift, the displacement/shift of the transport profile follows a logistic curve. However, the parameterization is different, so that the shift is zero when the background pressure is zero. As such, it does not have a z0 parameter.</p><p><strong>Fields</strong></p><ul><li><code>model::HallThruster.AnomalousTransportModel</code>: An AnomalousTransportModel</li></ul><ul><li><code>shift_length::Float64</code>: The maximum displacement in response to increasing pressure, scaled by the discharge channel length. This should be positive.</li></ul><ul><li><code>midpoint_pressure::Float64</code>: The pressure at the midpoint of the shift, in Torr. Defaults to 25e-6 Torr, which gives good fits for the H9 and SPT-100.</li></ul><ul><li><code>slope::Float64</code>: The slope of the pressure response curve. Defaults to 2, which gives good fits for the H9 and SPT-100.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UM-PEPL/HallThruster.jl/blob/52cbabb5bbc6b550c2c237cce0b56146756a7a8d/src/collisions/anomalous.jl#L259-L269">source</a></section></article><h2 id="The-AnomalousTransportModel-interface"><a class="docs-heading-anchor" href="#The-AnomalousTransportModel-interface">The <code>AnomalousTransportModel</code> interface</a><a id="The-AnomalousTransportModel-interface-1"></a><a class="docs-heading-anchor-permalink" href="#The-AnomalousTransportModel-interface" title="Permalink"></a></h2><p>Users defining their own transport model will need first define a model that subtypes <code>AnomalousTransportModel</code>. They will then need to provide definitions for the following methods</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HallThruster.num_anom_variables" href="#HallThruster.num_anom_variables"><code>HallThruster.num_anom_variables</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">num_anom_variables(::AnomalousTransportModel)::Int</code></pre><p>The number of variable arrays that should be allocated for the provided anomalous transport model. These arrays are used to save state beyond the anomalous collision frequency, and are useful for defining more complex anomalous transport models. If not defined by the user, this defaults to zero.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/UM-PEPL/HallThruster.jl/blob/52cbabb5bbc6b550c2c237cce0b56146756a7a8d/src/collisions/anomalous.jl#L299-L306">source</a></section></article><p>Additionally, they will need to define a function that allows the model to be called with the following arguments.</p><pre><code class="language-julia hljs"># replace &lt;:AnomalousTransportModel with ::MyModel, where MyModel is the name of your model.
(model&lt;:AnomalousTransportModel)(nu_an, params, config)</code></pre><p>This function should operate in-place on nu_an. See <a href="../../howto/new_anom_model/#Adding-an-anomalous-transport-model">Adding an anomalous transport model</a> for a guide on implementing new models.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../propellants/">« Propellants</a><a class="docs-footer-nextpage" href="../wall_loss_models/">Wall loss models »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Saturday 1 February 2025 00:16">Saturday 1 February 2025</span>. Using Julia version 1.11.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
